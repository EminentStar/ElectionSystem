package net.javabugs.web.example.service;

import java.util.List;

import net.javabugs.web.example.model.dao.CandiDAO;
import net.javabugs.web.example.model.dto.Candi;
import net.javabugs.web.example.model.dto.CandiParam;
import net.sf.json.JSONObject;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

@Service
public class CandiService {
	@Autowired
	private CandiDAO candiDAO;

	public JSONObject getCandiList(CandiParam candiParam) {
		JSONObject json = new JSONObject();
		List<Candi> candiList = null;
		//여기서 count를 먼저얻어야한다
		
		int count = candiDAO.getCountCandiList(candiParam);
		//Paging paging = new Paging(param.getCurrPageNo(),count);
		//param.setFromRowNum(paging.getFromRowNum());
		//param.setToRowNum(paging.getToRowNum());
		
		if(count>0){
			candiList = candiDAO.getCandiList(candiParam);
		}
		
		//json.accumulate("paging", paging);
		json.accumulate("candiList", candiList);
		
		return json;
	}

}
